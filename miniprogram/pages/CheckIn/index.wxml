<!--miniprogram/pages/CheckIn/index.wxml-->
<view class="checkin-container">
  <view class="streak-card">
    <text class="streak-icon">ğŸ”¥</text>
    <text class="streak-value">{{streak}}</text>
    <text class="streak-label">å¤©è¿ç»­æ‰“å¡</text>
  </view>
  
  <view class="today-status">{{todayChecked?'âœ… ä»Šæ—¥å·²æ‰“å¡':'ğŸ“ ä»Šæ—¥æ‰“å¡'}}</view>
  
  <view class="presets">
    <view class="preset {{todayChecked?'disabled':''}}" wx:for="{{presets}}" wx:key="id" bindtap="doCheckIn" data-id="{{item.id}}" wx:if="{{!todayChecked}}">
      <text class="preset-icon">{{item.icon}}</text>
      <text class="preset-name">{{item.name}}</text>
      <text class="preset-exp">+{{item.exp}}</text>
    </view>
  </view>
  
  <view class="history">
    <view class="section-title">ğŸ“… æ‰“å¡è®°å½•</view>
    <view class="history-item" wx:for="{{checkIns}}" wx:key="_id">
      <text>{{item.preset.icon}} {{item.preset.name}}</text>
      <text class="date">{{item.date}}</text>
    </view>
  </view>
</view>
