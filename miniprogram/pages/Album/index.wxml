<!--miniprogram/pages/Album/index.wxml-->
<view class="album-container">
  <!-- 封面区域 -->
  <view class="cover-section" bindtap="goToDetail" data-id="{{coverImage ? albumList[0]._id : ''}}" wx:if="{{coverImage}}">
    <image class="cover-image" src="{{coverImage}}" mode="aspectFill"></image>
    <view class="cover-overlay">
      <text class="cover-title">我们的相册</text>
      <text class="cover-count">{{albumList.length}} 张照片</text>
    </view>
  </view>

  <!-- 相册网格 -->
  <view class="album-grid" wx:if="{{albumList.length > 0}}">
    <view 
      class="grid-item" 
      wx:for="{{albumList}}" 
      wx:key="_id"
      bindtap="goToDetail"
      data-id="{{item._id}}"
    >
      <image class="grid-image" src="{{item.thumbUrl || item.imageUrl}}" mode="aspectFill"></image>
      <view class="grid-likes" wx:if="{{item.likeCount > 0}}">
        <text class="heart-icon">❤️</text>
        <text class="like-count">{{item.likeCount}}</text>
      </view>
    </view>
  </view>

  <!-- 空状态 -->
  <view class="empty-state" wx:if="{{albumList.length === 0 && !loading}}">
    <image class="empty-image" src="/miniprogram/images/empty-album.png" mode="aspectFit" wx:if="{{false}}"></image>
    <text class="empty-text">还没有照片</text>
    <text class="empty-hint">点击右下角上传第一张照片吧</text>
  </view>

  <!-- 加载中 -->
  <view class="loading" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">加载中...</text>
  </view>

  <!-- 悬浮上传按钮 -->
  <view class="fab" bindtap="goToUpload">
    <text class="fab-icon">+</text>
  </view>
</view>
