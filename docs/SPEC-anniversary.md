# 纪念日倒数功能规格说明书

## 1. 功能概述

### 1.1 功能名称
**纪念日倒数** - 记录重要日期倒计时

### 1.2 功能描述
允许情侣记录相识纪念日、表白日、生日等重要日期，显示距离下一个纪念日的天数倒计时。

### 1.3 优先级
P1 (高优先级)

---

## 2. 验收标准

### 2.1 核心功能
- [ ] 可以添加纪念日（名称、日期、类型）
- [ ] 支持农历/公历选择
- [ ] 显示距离下一个纪念日的天数
- [ ] 每年重复提醒
- [ ] 纪念日列表展示

### 2.2 纪念日类型
- 🎂 生日
- 💕 相识纪念日
- 💍 表白日/在一起纪念日
- 🎉 自定义

### 2.3 交互体验
- [ ] 添加成功有动画反馈
- [ ] 重要纪念日（当天）有特殊提示

---

## 3. 页面结构

### 3.1 页面
| 页面 | 路径 | 描述 |
|------|------|------|
| 纪念日列表 | `/pages/Anniversary/index` | 显示所有纪念日 + 倒计时 |
| 添加纪念日 | `/pages/AnniversaryAdd/index` | 添加新纪念日 |

---

## 4. 数据库设计

### 4.1 纪念日集合: `AnniversaryList`

```json
{
  "_id": "auto-generated",
  "_openid": "user-openid",
  "name": "相识纪念日",
  "date": "2023-05-20",        // 纪念日期
  "type": "love",              // 类型: birthday(生日) | love(纪念日) | custom(自定义)
  "isLunar": false,             // 是否农历
  "remind": true,               // 是否提醒
  "createTime": "2026-02-27T12:00:00.000Z"
}
```

---

## 5. UI/UX 设计

### 5.1 布局
- 顶部大数字倒计时显示
- 下一个重要纪念日高亮
- 纪念日列表（卡片式）
- 右下角悬浮添加按钮

### 5.2 倒计时样式
- 大号数字显示天数
- 小字显示纪念日名称
- 特殊日期（当天）显示庆祝样式

---

## 6. 涉及文件

```
miniprogram/pages/Anniversary/
├── index.js
├── index.json
├── index.wxml
└── index.wxss

miniprogram/pages/AnniversaryAdd/
├── index.js
├── index.json
├── index.wxml
└── index.wxss
```

---

## 7. 测试用例

- [ ] 添加纪念日成功
- [ ] 倒计时天数正确
- [ ] 纪念日类型图标正确
- [ ] 删除纪念日成功

---

**创建日期:** 2026-02-27
**版本:** 1.0
**状态:** 待开发
